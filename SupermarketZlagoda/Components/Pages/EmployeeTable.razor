@page "/employee"
@using SupermarketZlagoda.Data
@inject UserState UserState
<FluentToolbar id="toolbar-fluent-components">
    <FluentButton Appearance="Appearance.Accent">Add new employee</FluentButton>
    <FluentRadioGroup @bind-Value="_sortType">
        <FluentRadio Value="@(0)" Checked="true">Sort by surname<FluentIcon Value="new Icons.Regular.Size16.ArrowDown()"/></FluentRadio>
        <FluentRadio Value="@(1)">Sort by surname<FluentIcon Value="new Icons.Regular.Size16.ArrowUp()"/></FluentRadio>
    </FluentRadioGroup>
    <FluentCheckbox @bind-Value="@_cashiersOnly">Cashiers only</FluentCheckbox>
    <FluentTextField @bind-Value="_surnameSearchTerm" Placeholder="Search by surname"></FluentTextField>
</FluentToolbar>
<FluentDataGrid Items="@_items" ItemSize="54" Pagination="@_pagination"
                GridTemplateColumns="1fr 2fr 1fr 1fr 1fr 1fr 1fr 2fr 1fr"
                Style="height: 600px; width: 1500px; overflow:auto; ">
    <PropertyColumn Property="@(c => c.IdEmployee)"/>
    
    <TemplateColumn Title="Name" Align="Align.Start" Style="white-space: normal;">
        @context.EmployeeSurname @context.EmployeeName @context.EmployeePatronymic
    </TemplateColumn>
    
    <PropertyColumn Property="@(c => c.Role)"/>
    <PropertyColumn Property="@(c => c.Salary)"/>
    <PropertyColumn Property="@(c => c.DateOfStart)"/>
    <PropertyColumn Property="@(c => c.DateOfBirth)"/>
    <PropertyColumn Property="@(c => c.PhoneNumber)"/>
    
    <TemplateColumn Title="Address" Align="Align.Start" Style="white-space: normal;">
        @context.City @context.Street @context.ZipCode
    </TemplateColumn>
    <TemplateColumn Title="Actions">
        <FluentButton IconEnd="@(new Icons.Regular.Size16.Edit())" OnClick="@(() => Console.WriteLine("Edit clicked"))"/>
        <FluentButton IconEnd="@(new Icons.Regular.Size16.Delete())" OnClick="@(() => Console.WriteLine("Delete clicked"))"/>
    </TemplateColumn>
</FluentDataGrid>
<FluentPaginator State="@_pagination">
    <SummaryTemplate>
        There are <strong>@(_pagination.TotalItemCount ?? 0)</strong> rows
    </SummaryTemplate>
    <PaginationTextTemplate>
        This is page <strong>@(_pagination.CurrentPageIndex + 1)</strong> out of a total of <strong>@(_pagination.LastPageIndex + 1)</strong> pages
    </PaginationTextTemplate>
</FluentPaginator>